一个整型数组 nums 里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。

 

示例 1：
```
输入：nums = [4,1,4,6]
输出：[1,6] 或 [6,1]
```
示例 2：
```
输入：nums = [1,2,10,4,1,4,3,3]
输出：[2,10] 或 [10,2]
```

限制：
```
2 <= nums <= 10000
```


按位与 &：两数二进制同时为1，结果才为1，否则为0

按位或 ｜：两数二进制只要有一个为1，结果就是1

异或 ^：两数相同位值不同，则该位结果为1，否则为0



本题的解决方法是分组异或。

先考虑简单的问题：一组数字中，只有一个数字出现了一次，其他数字都出现了两次，如何找到这个出现一次的数字？

根据异或操作的性质，相同数字异或后结果为0，所以针对上面这样的一组数字全员异或后剩下的就是出现一次的数字，成对出现的就相互抵消为0了。

所以如果这样一组数字中，有两个仅出现一次的数字，那么可以将这组数字分成两组，每组各包含一个仅出现一次的数字，同时相同数字出现在同一组中，这样每组分别异或，得到的就是两个仅出现一次的数字了。

分组方法：所有数字异或后的结果与两个仅出现一次的数字异或的结果相同，取结果二进制表示时任意不为0的数位（数位值肯定为1），其他数字相同数位的值和这个值进行比较，相同的放到一组，不相同的放到另一组。按照这个方法，相同数字肯定能分到同一组，因为相同数字各个数位的值都一样，而两个仅出现一次的数字，在该数位肯定是不一样的（要不该数位值也不会是1），所以也肯定会分到不同组。

接下来分别对这两个分组进行异或操作就可以了。



```java
import java.util.Arrays;

public class singleNumbers {
  public static void main(String[] args){
    int[] nums = {4,1,6,4};
    System.out.println(Arrays.toString(solutions(nums))); // 【1, 6】
  }

  public static int[] solutions(int[] nums){
    // 分两组
    // 相同数组要分到一组
    // 两个不同数字要分到不同组
    int ret = 0;
    for(int n : nums){ // 计算nums所有数抑或值
      ret ^= n;
    }

    int div = 1;
    // 这地方我们取最后一位不为0的数位作为分割值
    // 与运算，都为1结果才为1，否则就是0
    while((div & ret) == 0){
      div <<= 1; // 左移一位 00000001 -》00000010 -》00000100
    }

    // 下面开始分组
    int a = 0, b = 0;
    for(int n : nums){
      if((div & n) != 0){
        a ^= n;
      } else {
        b ^= n;
      }
    }
    return new int[]{a, b};
  }
}

```



go语言版：

```go
package main

import "fmt"

func main() {
  nums := []int{1,2,10,4,1,4,3,3}
  fmt.Println(singlenumbers(nums)) // 【10， 2】
}

func singlenumbers(nums []int)[]int{
  // 先一起计算异或
  // 然后分组计算异或
  ret := 0
  for _, n := range nums{
    ret ^= n
  }
  // 寻找分组位（这里取最后一位不为0的数位）
  div := 1
  for ;((div & ret) == 0);{
    div <<= 1
  }

  a , b := 0, 0
  for _, n := range nums{
    if((n & div) != 0){
      a ^= n
    } else {
      b ^= n
    }
  }

  return []int{a, b}
}
```





